(this["webpackJsonpcelo-job-board-dapp"]=this["webpackJsonpcelo-job-board-dapp"]||[]).push([[0],{403:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"jobId","type":"uint256"},{"indexed":false,"internalType":"address","name":"employer","type":"address"},{"indexed":false,"internalType":"string","name":"jobName","type":"string"},{"indexed":false,"internalType":"string","name":"jobDescription","type":"string"},{"indexed":false,"internalType":"uint256","name":"salary","type":"uint256"}],"name":"JobPosted","type":"event"},{"inputs":[{"internalType":"uint256","name":"_jobId","type":"uint256"}],"name":"getJobposts","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getJobsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_jobName","type":"string"},{"internalType":"string","name":"_jobDescription","type":"string"},{"internalType":"uint256","name":"_salary","type":"uint256"}],"name":"postJob","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_jobId","type":"uint256"}],"name":"removeJobPost","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},411:function(e,t,n){},413:function(e,t,n){},429:function(e,t){},430:function(e,t){},432:function(e,t){},436:function(e,t){},460:function(e,t){},462:function(e,t){},476:function(e,t){},478:function(e,t){},506:function(e,t){},508:function(e,t){},525:function(e,t){},526:function(e,t){},599:function(e,t){},600:function(e,t){},692:function(e,t){},697:function(e,t){},879:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(59),s=n.n(r),o=(n(411),n(96)),i=n(18),l=n(28),u=n.n(l),b=(n(413),n(888)),d=n(882),j=n(887),p=n(883),f=n(884),x=n(890),m=n(889),h=n(398),y=n(1),O=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],O=Object(a.useState)(""),g=Object(i.a)(O,2),v=g[0],w=g[1],k=Object(a.useState)(!1),C=Object(i.a)(k,2),T=C[0],J=C[1],N=function(){return J(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{bg:"light",children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(b.a.Brand,{href:"#home",children:"Celo - Job - Board"}),Object(y.jsx)(b.a.Toggle,{}),Object(y.jsx)(j.a,{className:"me-auto",children:Object(y.jsxs)(p.a,{bg:"secondary",className:"ms-auto",children:["Balance ",e.cUSDBalance,"cUSD"]})}),Object(y.jsx)(b.a.Collapse,{className:"justify-content-end",children:Object(y.jsx)(f.a,{onClick:function(){return J(!0)},variant:"dark",children:Object(y.jsx)("h5",{children:" Add a new Job "})})})]})}),Object(y.jsxs)(x.a,{show:T,onHide:N,centered:!0,children:[Object(y.jsx)(x.a.Header,{closeButton:!0,children:Object(y.jsx)(x.a.Title,{children:"New Job"})}),Object(y.jsx)(m.a,{children:Object(y.jsxs)(x.a.Body,{children:[Object(y.jsx)(h.a,{controlId:"inputName",label:"Employer name",className:"mb-3",children:Object(y.jsx)(m.a.Control,{type:"text",onChange:function(e){r(e.target.value)},placeholder:"Name"})}),Object(y.jsx)(h.a,{controlId:"inputDescription",label:"Job description",className:"mb-3",children:Object(y.jsx)(m.a.Control,{as:"textarea",placeholder:"description",style:{height:"80px"},onChange:function(e){u(e.target.value)}})}),Object(y.jsx)(h.a,{controlId:"inputSalary",label:"Salary per year",className:"mb-3",children:Object(y.jsx)(m.a.Control,{type:"text",onChange:function(e){w(e.target.value)},placeholder:"salary"})})]})}),Object(y.jsxs)(x.a.Footer,{children:[Object(y.jsx)(f.a,{variant:"outline-secondary",onClick:N,children:"Close"}),Object(y.jsx)(f.a,{variant:"dark",disabled:!(c&&l&&v),onClick:function(){e.addJob(c,l,v),N()},children:"Add Job"})]})]})]})},g=n(885),v=n(397),w=n(891),k=n(892),C=function(e){return Object(y.jsx)(g.a,{xs:1,md:3,className:"g-4",children:e.jobs.map((function(t){return Object(y.jsx)(v.a,{children:Object(y.jsxs)(w.a,{className:"h-100",children:[Object(y.jsx)(w.a.Header,{children:Object(y.jsxs)(k.a,{direction:"horizontal",gap:2,children:[Object(y.jsxs)(p.a,{bg:"secondary",className:"ms-auto",children:[t.index," ID"]}),Object(y.jsxs)(p.a,{bg:"secondary",className:"ms-auto",children:[t.salary,"cUSD/year"]})]})}),Object(y.jsxs)(w.a.Body,{className:"d-flex  flex-column text-center",children:[Object(y.jsx)(w.a.Title,{className:"flex-grow-1",children:t.jobName}),Object(y.jsx)(w.a.Text,{className:"flex-grow-1",children:t.jobDescription}),e.walletAddress===t.employer&&Object(y.jsx)("button",{type:"button",onClick:function(){return e.removeJob(t.index)},class:"btn btn-dark mt-1",children:"Remove Job"})]})]})},t.index)}))})},T=n(399),J=n.n(T),N=n(402),S=n(403);var B=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(i.a)(r,2),l=s[0],b=s[1],d=Object(a.useState)(null),j=Object(i.a)(d,2),p=j[0],f=j[1],x=Object(a.useState)(0),m=Object(i.a)(x,2),h=m[0],g=m[1],v=Object(a.useState)([]),w=Object(i.a)(v,2),k=w[0],T=w[1],B=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=22;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new J.a(window.celo),n=Object(N.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,c=a[0],n.defaultAccount=c,e.next=13,b(c);case 13:return e.next=15,f(n);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:e.next=23;break;case 22:alert("Error Occurred");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),D=Object(a.useCallback)(Object(o.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getTotalBalance(l);case 3:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new p.web3.eth.Contract(S,"0x31375CB4f0e144E36F9de58C2085C0F0A0CF6627"),c(a),g(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[l,p]),F=Object(a.useCallback)(Object(o.a)(u.a.mark((function e(){var t,a,c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getJobsLength().call();case 2:for(t=e.sent,a=[],c=function(e){var t=new Promise(function(){var t=Object(o.a)(u.a.mark((function t(a,c){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.getJobposts(e).call();case 2:r=t.sent,a({index:e,jobId:r[0],employer:r[1],jobName:r[2],jobDescription:r[3],salary:r[4]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},r=0;r<t;r++)c(r);return e.next=8,Promise.all(a);case 8:s=e.sent,T(s);case 10:case"end":return e.stop()}}),e)}))),[n]),I=function(){var e=Object(o.a)(u.a.mark((function e(t,a,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.postJob(t,a,c).send({from:l});case 3:F(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.removeJobPost(t).send({from:l});case 3:F(),D(),alert("you have successfully removed the job"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){B()}),[]),Object(a.useEffect)((function(){p&&l&&D()}),[p,l,D]),Object(a.useEffect)((function(){n&&F()}),[n,F]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(O,{cUSDBalance:h,addJob:I}),Object(y.jsx)(C,{jobs:k,removeJob:A,walletAddress:l})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,893)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(875),n(876);s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root")),D()}},[[879,1,2]]]);
//# sourceMappingURL=main.e08d05d8.chunk.js.map